# 5.3 서비스 추상화와 단일 책임 원칙 

이제 스프링의 트랜잭션 서비스 추상화 기법을 이용해 다양한 트랜잭션 기술을 일관된 방식으로 제어할 수 있게 됐다. 

### 수직, 수평 계층구조와 의존관계

1. 수평적 분리
 - UserDao와 UserService의 분리 : 각각 담당하는 코드의 기능적인 관심에 따라 분리
 - 같은 애플리케이션 로직을 담은 코드지만 내용에 따라 분리

2. 수직적 분리
 - 트랜잭션 추상화
 - 비지니스 로직과 로우레벨의 트랜잭션 기술이라는 아예 다른 계층의 특성을 갖는 코드


**사용자 관리 모듈의 의존관계**
1. 애플리케이션 계층 : UserService, UserDao
- 애플리케이션의 로직
- 인터페이스와 DI를 통해 결합도를 낮춘다.

2. UserDao는 DB 연결을 생성하는 방법에 대해 독립적이다.
 - DataSource 인터페이스와 DI를 통해 추상화된 방식으로 로우레벨의 DB 연결 기술을 사용한다.

3. UserService는 트랜잭션 기술에 독립적이다.
- PlatformTransactionManager 인터페이스를 통한 추상화 계층을 사이에 둔다.

스프링의 DI는 결합도가 낮으며, 서로 영향을 주지 않고 자유롭게 확장될 수 있는 구조를 가능하게 한다.

### 단일 책임 원칙

> 단일 책임 원칙(Single Responsibility Principle) : 
하나의 모듈은 한 가지 책임을 가져야 한다. 즉, 하나의 모듈이 바뀌는 이유는 한 가지여야 한다.


**장점**
1. 변경이 필요할 때 수정 대상이 명확해진다. 
2. 지금까지의 과정을 보면 단 한 번도 DI가 빠진 적이 없었다.
DI는 모든 스프링 기술의 기반이 되는 핵심 엔진이자 원리이며, 가장 중요한 도구이다.


